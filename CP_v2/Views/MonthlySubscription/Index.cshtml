
@{
    ViewBag.Title = "Index";
}
<script src="~/Scripts/Custom/MonthlySubscription.js"></script>
<div class="container" ng-controller="monthlySubscriptionController">
    <br /><br />
    <div class="data-entry">
        <div class="form-side width-full" >
            <div class="login-form">
                <div id="form-main">
                    <form class="form" name="form1" novalidate>
                        <div class="width-half no-margin">
                            <p class="type">
                                <input ng-model="carbike" type="text" placeholder="Car/Bike Number" required style="text-transform:uppercase"/>
                            </p>

                            <p class="no">
                                <input ng-model="cnic" type="text" placeholder="CNIC Number"  />
                            </p>
                            <p class="type">
                                <input ng-model="month" type="text" placeholder="Month" required />
                            </p>
                        </div>
                        <div class="width-half">
                            <p class="date">
                                <input ng-model="mobilenumber" type="text" placeholder="Mobile Number"  />
                            </p>
                            <p class="date">
                                <input ng-model="amount" type="text" placeholder="Amount" required />
                            </p>
                            <p class="no">
                                <input ng-model="ownername" type="text" placeholder="Owner Name"  />
                            </p>
                        </div>

                        <div class="token button-width">
                            <div class="submit">
                                <input type="submit" value="submit" id="submit-button" ng-click="addSubscription()" ng-disabled="form1.$invalid"/>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="clear"></div>
    <table>
        <tr>
            <td colspan="8" class="filter">
                <b>Filter By</b>
                <input type="text" ng-model="carnosearch" placeholder="Car No" style="text-transform:uppercase"/>
                <input type="text" ng-model="ownernamesearch" placeholder="Enter Owner Name" />
                <input type="text" ng-model="monthsearch" placeholder="Month"   />
                <input type="submit" ng-click="search()" value="Search" />
                <input type="submit" value="Clear" ng-click="clear()" />
            </td>
        </tr>
        <tr>
            <th>SR No</th>
            <th>Car No</th>
            <th>Mobile No.</th>
            <th>Cnic</th>
            <th>Owner Name.</th>
            <th>Month.</th>
            <th>Amount.</th>
            <th><img src="~/images/download.jpg" style="cursor:pointer;width:25px" ng-click="add()" /></th>
        </tr>
        <tr ng-repeat="p in subscriptionTable.Subscriptions">
            <td>{{((subscriptionTable.CurrentPage - 1) * 100) +( $index +1)}}</td>
            <td>{{p.carno}}</td>
            <td>{{p.mobileno}}</td>
            <td>{{p.cninc}}</td>
            <td>{{p.ownername}}</td>
            <td>{{p.month}}</td>
            <td>{{p.amount}}</td>
            <td><img src="~/images/small-pencil-icon-22365.png" style="cursor:pointer;width:25px" ng-click="edit(p.id)"/>
             <img src="~/images/958044.png" style="cursor:pointer;width:25px" ng-click="delete(p.id)" /></td>
        </tr> 
        <tr>
            <td colspan="10">
                <div class="pagination">
                    <ul>
                        <li ng-click="pageClick(subscriptionTable.CurrentPage - 1)" ng-if="subscriptionTable.CurrentPage != 1"><a ng-if="subscriptionTable.CurrentPage != 1">«</a></li>
                        <li ng-repeat="n in range(1,subscriptionTable.TotalPages)" ng-click="pageClick(n)"><a ng-class="subscriptionTable.CurrentPage == n ? 'active' : ''">{{n}}</a></li>
                        <li ng-click="pageClick(subscriptionTable.CurrentPage + 1)" ng-if="subscriptionTable.CurrentPage != subscriptionTable.TotalPages"><a ng-if="subscriptionTable.CurrentPage != subscriptionTable.TotalPages">»</a></li>
                    </ul>
                </div>
            </td>
        </tr>

    </table>
    <div class="copyright">&copy; 2016. All Rights Reserved.</div>
</div>